import{l as g,o as b,A as C,w as l,j as w,q as t,s as y,P as L,Q as S,R as $,E as h,L as A,S as B,g as m,T,V as q}from"./index-Dx92XXCU.js";import{p as D,E as F,a as N,b as R,v as U}from"./PageContainer-DphBCtz7.js";import{E as I}from"./el-dialog-79mq_5YX.js";import{u as E}from"./useChannelsStore-BiqbdDvo.js";import"./isEqual-Behl4zO8.js";import"./el-card-0rgPSdTP.js";import"./use-dialog-Coa-HwQv.js";const M={class:"dialog-footer"},j={__name:"ChannelsDialog",setup(x,{expose:s}){const n=g(!1),_=g(),p=E(),a=g({cate_name:"",cate_alias:""}),c=async()=>{const{cate_name:o,cate_alias:e,id:r}=a.value;await _.value.validate(),a.value.id?p.editChannelsList(r,o,e):(a.value.cate_alias="",a.value.cate_name="",p.addChannelsList(o,e)),n.value=!1};s({open:async o=>{n.value=!0,o.id&&(a.value={...o})}});const i={cate_name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{pattern:/^\S{1,10}$/,message:"分类名必须是1-10位的非空字符",trigger:"blur"}],cate_alias:[{required:!0,message:"请输入分类别名",trigger:"blur"},{pattern:/^[a-zA-Z0-9]{1,15}$/,message:"分类别名必须是1-15位的字母数字",trigger:"blur"}]};return(o,e)=>{const r=L,d=S,v=$,V=h,k=I;return b(),C(k,{modelValue:n.value,"onUpdate:modelValue":e[3]||(e[3]=u=>n.value=u),title:a.value.id?"编辑分类":"添加分类",width:"30%"},{footer:l(()=>[w("span",M,[t(V,{onClick:e[2]||(e[2]=u=>n.value=!1)},{default:l(()=>e[4]||(e[4]=[y("取消")])),_:1}),t(V,{type:"primary",onClick:c},{default:l(()=>e[5]||(e[5]=[y(" 确认 ")])),_:1})])]),default:l(()=>[t(v,{ref_key:"formRef",ref:_,model:a.value,rules:i,"label-width":"100px",style:{"padding-right":"30px"}},{default:l(()=>[t(d,{label:"分类名称",prop:"cate_name"},{default:l(()=>[t(r,{modelValue:a.value.cate_name,"onUpdate:modelValue":e[0]||(e[0]=u=>a.value.cate_name=u),minlength:"1",maxlength:"10"},null,8,["modelValue"])]),_:1}),t(d,{label:"分类别名",prop:"cate_alias"},{default:l(()=>[t(r,{modelValue:a.value.cate_alias,"onUpdate:modelValue":e[1]||(e[1]=u=>a.value.cate_alias=u),minlength:"1",maxlength:"15"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}},K={__name:"ArticleCategory",setup(x){const s=E(),n=g(),_=a=>{n.value.open(a)},p=a=>{n.value.open(a)};return A(()=>s.getChannelsList()),(a,c)=>{const f=h,i=F,o=N,e=R,r=U;return b(),C(D,{title:"文章分类"},{extra:l(()=>[t(f,{type:"primary",onClick:_},{default:l(()=>c[0]||(c[0]=[y("添加分类 ")])),_:1})]),default:l(()=>[B((b(),C(e,{data:m(s).channelsList,style:{width:"100%"}},{empty:l(()=>[t(o,{description:"没有数据"})]),default:l(()=>[t(i,{label:"序号",width:"100",type:"index"}),t(i,{label:"分类名称",prop:"cate_name"}),t(i,{label:"分类别名",prop:"cate_alias"}),t(i,{label:"操作",width:"100"},{default:l(({row:d})=>[t(f,{icon:m(T),circle:"",plain:"",type:"primary",onClick:v=>p(d)},null,8,["icon","onClick"]),t(f,{icon:m(q),circle:"",plain:"",type:"danger",onClick:v=>m(s).delChannelsList(d)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"])),[[r,m(s).loading]]),t(j,{ref_key:"dialog",ref:n},null,512)]),_:1})}}};export{K as default};
