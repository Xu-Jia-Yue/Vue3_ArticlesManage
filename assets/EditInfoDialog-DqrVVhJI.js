import{K as x,l as u,o as E,A as w,w as t,j as y,q as l,s as p,b2 as I,P as U,Q as A,R as B,E as q}from"./index-rq0Bf3r-.js";import{E as z}from"./el-dialog-ZDMjlegN.js";const C={class:"dialog-footer"},Z={__name:"EditInfoDialog",props:["info"],setup(f,{expose:g}){const m=x(),_=f,n=u(!1),i=u(),o=u({..._.info}),v=async()=>{n.value=!0},V=async()=>{await i.value.validate(),await m.editUserInfo(o.value),await m.setUserInfo(),I.success("设置成功"),n.value=!1};g({open:v});const c={nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{pattern:/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,4})$/,message:"邮箱格式不正确",trigger:"blur"}]};return(N,e)=>{const s=U,r=A,b=B,d=q,k=z;return E(),w(k,{modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=a=>n.value=a),width:"30%"},{footer:t(()=>[y("span",C,[l(d,{onClick:e[3]||(e[3]=a=>n.value=!1)},{default:t(()=>e[5]||(e[5]=[p("取消")])),_:1}),l(d,{type:"primary",onClick:V},{default:t(()=>e[6]||(e[6]=[p(" 确认 ")])),_:1})])]),default:t(()=>[l(b,{ref_key:"formRef",ref:i,model:o.value,rules:c,"label-width":"100px",style:{"padding-right":"30px"}},{default:t(()=>[l(r,{label:"用户名",prop:"username"},{default:t(()=>[l(s,{modelValue:o.value.username,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.username=a),minlength:"1",maxlength:"10"},null,8,["modelValue"])]),_:1}),l(r,{label:"昵称",prop:"nickname"},{default:t(()=>[l(s,{modelValue:o.value.nickname,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.nickname=a),minlength:"1",maxlength:"15"},null,8,["modelValue"])]),_:1}),l(r,{label:"邮箱",prop:"email"},{default:t(()=>[l(s,{modelValue:o.value.email,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.email=a),minlength:"1"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}};export{Z as _};
